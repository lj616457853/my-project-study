1.云游戏简介

```
	1. 云游戏服务平台(paas/saas):
		paas(平台即服务): 
			租房管理
			业务支撑
			流化能力
			应用管理
			租户计费
			用户管理
			
		saas(应用即服务):
			门户管理
			推广
			试玩
	2. 移动云:
			统一的租户中心
			租户信息中心
			订购中心
			权限管理中心
			产品信息中心
	3. 游戏云:
		资源分配能力
		端游/主机游戏管理平台  (x86+GPU)的资源节点
		手游管理平台  ARM阵列资源节点
```

2.游戏服务平台的流程

![image-20220505234534103](C:\Users\86178\AppData\Roaming\Typora\typora-user-images\image-20220505234534103.png)

3.业务架构

![image-20220505234548988](C:\Users\86178\AppData\Roaming\Typora\typora-user-images\image-20220505234548988.png)

4.核心概念和技术:

```
1. 租户
	租户的实例订购（计费）
	实例分配优先级管控
	排队机制
	游戏应用的配置管理
	....
2. 实例
	拉玩（实例化到一个虚拟机一款游戏实例）虚拟机一个游戏的实例
	实例的规格划分（清晰度+帧率）（涉及到计费）
	实例的调度
	...
3. 播流
	视频流的推流的过程
	视频的流的编解码的过程
		a. 软编
		b. 硬编
4. 云化
	包体的上传
	共享磁盘卷
	
5. 存档
	建立存档服务器，记录不同的用户播流的历史信息，和日志
		单机游戏存放在对应的存档库
		网游游戏历史操作存放在对应游戏厂商的服务器上，不需要做存档处理
	同一个用户每次玩游戏时判断是否有存档记录，有则从存档游戏开始拉玩
6. 调度
	提供不同机房，每个机房提供有上限的实例
	不同实例的分配过程中可能会调度到不同的机房
	（根据用户云化游戏到不同机房有关）
	（比如：一款游戏云化到南京机房，则播流会从对应的机房进行拉起游戏）
7. 排队
	当机房资源实例占用满了之后，会将之后播流的加入到排队队列中，其中有实例释放之后，才会从排队队列中获取播流实例
	当订购的资源已被用完之后就会加入排队序列中
```

5.播流SDK集成(由游戏云平台提供接入游戏包体)

```
1.H5 SDK 
	
	
2.Android SDK


3.PC SDK 
```

6.云化包体涉及

```
1. 共享镜像
2. rsync同步包体
3. 虚拟化
```
7.音视频采集



8.Coordinator

    	协调器：
    		用于记录用户相关信息，游戏信息，实例信息，规格信息，在线信息
    		...
    	在每次客户端播流的时候可能携带
    		用户相关信息
    		游戏信息
    		实例信息
    		等等
    	与Coordinator建立链接，将信息记录在Coordinator协调器端，可以中间商做客户端，与云游戏服务器之间的信息协调控制作用
    	在一次播流过程中，客户端，Coordinator，游戏服务器，同时保持链接状态
    	一次链接中状态，表示这个用户在线，以及占用实例
    	...

9.Rsync

     同步器：
    	用于保证服务器之间文件的一致性的问题
    	由于每个机房的游戏的冗余性问题，每个游戏包体都会只保存一份
    	这些包体都会放在共享盘里/镜像卷里
    	在每次拉起一个实例的时候从共享盘里把对应游戏包体同步到虚拟机中磁盘中

 10.镜像卷/共享磁盘

     用于各个虚拟机之间的文件共享
     	给个服务器存在共享文件系统
     	每次用用户云化游戏的包体都会方向机房共享磁盘上
     	不同用户云化的游戏包体只会有一个游戏
     	每个游戏采用文件管理
     	提供每次拉起实例拷贝到虚拟机的文件
     	每次在拉游戏的过程中，并不会直接在原有的包体上进行读入和写出文件而是对应的拷贝文件上进行操作

11.controller 手发命令，执行shell脚本

     收集用户指

12.包体拷贝到虚拟化安卓端








